# 策略创新说明

本项目在AI多医生会诊系统中引入了多项**策略性创新**，旨在提升诊疗讨论的深度、针对性和实用价值。

## 1. 分阶段讨论策略 (Multi-Stage Discussion Strategy)

### 创新点
传统的会诊模式是医生轮流发言，缺乏结构化的思维过程。我们引入了**三阶段渐进式讨论机制**：

#### 第一阶段：初步诊断阶段
- **目标**：快速建立初步诊断框架
- **要求医生**：
  - 给出最可能的诊断及核心依据
  - 明确需要进一步收集的关键信息
  - 提出初步处置建议
- **策略价值**：建立诊断基线，为后续深入讨论奠定基础

#### 第二阶段：质疑与辩论阶段 (Challenge Mode)
- **目标**：通过批判性思维完善诊断
- **要求医生**：
  - **主动质疑**其他医生观点中的疑点或不足
  - 提出不同见解并给出支持证据
  - 承认他人的合理观点并补充自己的分析
- **策略价值**：
  - 避免"群体思维"和"从众效应"
  - 通过学术辩论深挖问题本质
  - 暴露不同诊断路径的优劣

#### 第三阶段：共识与优化阶段
- **目标**：整合观点，形成完整诊疗策略
- **要求医生**：
  - 给出最终诊断与鉴别诊断
  - 制定分阶段的完整诊疗方案（检查→治疗→随访）
  - 明确风险管理与备选方案
- **策略价值**：从发散思维转向收敛共识，输出可执行方案

### 配置方式
```javascript
settings: {
  discussionStrategy: 'multi-stage',  // 启用多阶段策略
  enableChallengeMode: true           // 启用质疑模式
}
```

---

## 2. 质疑机制 (Challenge Mode)

### 创新点
医学诊断需要批判性思维。传统会诊中，医生往往只发表自己观点，缺少对他人观点的主动审视和质疑。

### 实现方式
在提示词中明确要求医生：
```
【当前阶段：质疑与辩论】
请批判性地审视其他医生的观点：
1）指出你认为存在疑问或不够准确的观点，并说明理由
2）提出你的不同见解及支持证据
3）如果其他医生提出了你未考虑的重要点，请补充你的分析
要敢于质疑，体现学术辩论精神。
```

### 策略价值
- **提高诊断准确性**：通过质疑暴露思维盲点
- **增强论证深度**：要求医生用证据支持观点
- **促进知识交流**：在辩论中相互学习

---

## 3. 关键问题提取 (Key Question Extraction)

### 创新点
临床诊断常因信息不足而受限。系统自动识别医生提出的关键问题，帮助患者聚焦补充信息。

### 实现方式
- 使用正则表达式识别问句模式：
  - "需要/是否/有无/能否" + 问号
  - "请...补充/提供/说明" + 问号
  - "什么/哪些/多久/如何/为何" + 问号
- 自动提取并高亮显示
- 避免重复，限制数量（最多12个关键问题）

### 策略价值
- **聚焦信息收集**：明确告知患者需要补充什么信息
- **提高诊断效率**：减少信息盲点，避免反复追问
- **增强交互性**：患者看到明确的问题列表，知道如何配合

### 配置方式
```javascript
settings: {
  enableQuestionExtraction: true  // 启用关键问题提取
}
```

---

## 4. 增强的策略性提示词

### 创新点
在系统提示词中明确要求医生展现**战略性临床思维**和**高度个体化分析**。

### 策略性要求
医生必须：
- **制定分步骤的诊疗策略**：先做什么检查确诊→考虑哪些治疗方案→如何评估疗效
- **提供备选方案**：如果一线方案不适用或失败，次选方案是什么
- **风险管理策略**：识别潜在并发症，制定预防和应急预案
- **长期管理计划**：不仅关注当前问题，还要考虑随访、复发预防、生育力保护等

### 针对性要求
医生必须：
- **深入分析患者的特殊性**：年龄特点、既往病史的影响、当前症状的独特之处
- **关注关键细节**：从病历中提取最有诊断价值的信息，解释其临床意义
- **结合患者需求**：考虑生育需求、手术耐受性、经济因素、依从性等
- **避免泛泛而谈**：每一条建议都要说明"为什么适合这个患者"

---

## 5. 最终总结的策略化

### 创新点
最终总结不再是简单罗列诊断和建议，而是体系化的**策略报告**。

### 要求结构
1. **诊断策略**：核心诊断、鉴别诊断及排除依据
2. **检查策略**：必要检查的目的、优先级、预期结果
3. **治疗策略**：分阶段方案（急性期→过渡期→长期管理），一线+备选方案
4. **风险管理策略**：并发症识别、预防措施、应急预案
5. **随访策略**：时间点、观察指标、调整治疗的触发条件

### 策略价值
- 医生获得完整可执行的诊疗roadmap
- 患者清楚了解每一步"为什么"和"怎么做"
- 体现循证医学与个体化医疗的结合

---

## 6. 专家预设提示词优化

### 创新点
为12个妇产科专科领域的预设专家提示词，全面注入策略思维和针对性要求。

### 示例：高危妊娠专家
```
你的分析必须体现策略性：
- 制定分层风险评估策略
- 明确监测频率与指标
- 设定终止妊娠时机的决策点
- 准备应急预案（如产后出血、子痫等）

你必须针对患者的孕周、合并症、既往产史等个体化因素，
解释为何采用特定的管理策略，并提出可量化的监测指标和干预阈值。
```

---

## 策略创新的整体价值

### 1. 提升诊疗质量
- 通过分阶段讨论和质疑机制，避免诊断盲点
- 通过策略化思维，提供更全面的诊疗方案

### 2. 增强实用性
- 关键问题提取帮助患者有针对性地补充信息
- 分步骤策略让诊疗方案可落地执行

### 3. 体现循证与个体化结合
- 策略性要求确保基于证据
- 针对性要求确保个体化考量

### 4. 模拟真实会诊
- 质疑与辩论模拟真实学术讨论
- 分阶段流程符合临床思维过程

---

## 使用建议

1. **首次会诊**：建议启用 `multi-stage` 模式，体验完整的三阶段讨论
2. **复杂病例**：启用 `enableChallengeMode` 以触发质疑与辩论
3. **信息不足**：启用 `enableQuestionExtraction` 自动提取关键问题
4. **快速会诊**：使用 `standard` 模式 + 策略性提示词即可获得高质量建议

---

## 技术实现亮点

- **动态提示词生成**：根据讨论阶段自动调整AI指令
- **正则模式识别**：智能提取关键问题
- **状态机管理**：通过 `workflow.roundPhase` 精确控制讨论流程
- **零侵入扩展**：所有创新通过配置项开启，不影响原有标准模式

---

## 未来扩展方向

1. **投票机制优化**：引入正向投票（投"最佳方案"）
2. **策略对比视图**：并排展示不同医生的策略差异
3. **AI辅助决策**：自动分析讨论内容，提示遗漏的关键点
4. **多轮迭代优化**：在后续轮次中针对特定争议点深入讨论
